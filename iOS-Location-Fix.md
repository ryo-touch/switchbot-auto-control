## SwitchBot App - iPhone Safari 位置情報問題 修正内容

### 問題の原因
1. **HTTPS要件**: iOSのSafariでは位置情報APIがHTTPS接続でのみ動作
2. **タイムアウト設定**: 10秒のタイムアウトはiOSでの初回位置情報取得には短すぎる
3. **権限処理**: iOSでは位置情報の権限取得に特別な処理が必要
4. **エラーハンドリング**: 詳細なエラー情報とユーザーガイダンスが不足

### 修正内容

#### 1. 位置情報取得プロセスの改善
- 初回位置情報取得（権限確認）を追加
- タイムアウトを30秒に延長（iOS対応）
- 継続監視の分離実装

#### 2. エラーハンドリングの強化
- iOS固有のエラーメッセージ追加
- ユーザー向けの詳細ガイダンス表示
- ステータス別の適切な処理

#### 3. UI表示の改善
- 位置情報取得ステータスの詳細表示
- iOS向けの設定手順説明
- リアルタイムステータス更新

#### 4. HTTPS対応
- netlify.tomlでHTTPSリダイレクト強制設定
- セキュリティヘッダーの追加
- 位置情報許可ポリシーの設定

#### 5. iOS固有の最適化
- デバイス検出とiOS向け説明表示
- 位置情報キャッシュ設定の調整
- 高精度位置情報の有効化

### テスト手順
1. iPhone SafariでHTTPS URLにアクセス
2. 位置情報許可ダイアログの確認
3. 詳細ステータス表示の確認
4. エラー時のガイダンス表示確認

### 期待効果
- iPhoneでの位置情報取得成功率向上
- ユーザーエクスペリエンスの改善
- エラー時の適切なガイダンス提供
